# 作業報告書作成マニュアル

**最終更新日**: 2026-01-21
**対象**: Staff、Leader、Manager、Admin

---

## 目次

1. [作業報告書作成の概要](#作業報告書作成の概要)
2. [作業報告書作成の流れ](#作業報告書作成の流れ)
3. [基本情報の入力](#基本情報の入力)
4. [作業時間の入力](#作業時間の入力)
5. [作業内容の入力](#作業内容の入力)
6. [帯同作業員の登録](#帯同作業員の登録)
7. [写真の添付](#写真の添付)
8. [カスタムフィールドの入力](#カスタムフィールドの入力)
9. [保存と提出](#保存と提出)
10. [承認フロー](#承認フロー)

---

## 作業報告書作成の概要

ザイロクの作業報告書は、現場での作業内容を記録し、上司や管理者に報告するための機能です。

### 作業報告書の用途

- 日々の作業内容の記録
- 作業時間・残業時間の記録
- 使用した道具・材料の記録
- 作業進捗の報告
- 写真による作業記録
- 上司への承認申請

### 作成できるユーザー

| 権限 | 作業報告書作成 |
|------|--------------|
| **Staff** | ✅ |
| **Leader** | ✅ |
| **Manager** | ✅ |
| **Admin** | ✅ |

すべての権限で作業報告書を作成できます。

---

## 作業報告書作成の流れ

### 全体の流れ

```
1. 作業報告書作成画面を開く
   ↓
2. 基本情報を入力（現場、作業日、天気）
   ↓
3. 作業時間を入力（開始・終了時刻、休憩時間）
   ↓
4. 作業内容を入力
   ↓
5. 帯同作業員を登録（任意）
   ↓
6. 写真を添付（任意）
   ↓
7. カスタムフィールドを入力（任意）
   ↓
8. 下書き保存 または 提出
```

### 所要時間

- **簡単な報告書**: 5分
- **通常の報告書**: 10〜15分
- **詳細な報告書（写真多数）**: 20分〜

---

## 基本情報の入力

### アクセス方法

```
作業報告 > 新規作成
```

または、ダッシュボードから「作業報告書作成」をクリックします。

### 現場（必須）

**作業を行った現場を選択します。**

**入力方法**:
1. 「現場」ドロップダウンをクリック
2. 現場を選択

**表示例**:
```
現場を選択してください
─────────────────
A現場
B現場（東京都新宿区〇〇）
新宿ビル建設現場（東京都新宿区〇〇）
```

**注意事項**:
- ⚠️ 現場は必須項目です
- ⚠️ アクティブな現場のみ選択可能
- ⚠️ 削除された現場は表示されません

### 作業日（必須）

**作業を行った日付を指定します。**

**デフォルト値**: 今日の日付

**入力方法**:
- カレンダーから選択
- または、手動で入力（YYYY-MM-DD形式）

**注意事項**:
- ⚠️ 作業日は必須項目です
- ⚠️ 通常は今日の日付を使用します
- ⚠️ 過去の日付も選択可能（後からの報告）

### 天気（任意）

**作業日の天気を選択します。**

**選択肢**:
```
- ☀️ 晴れ
- ☁️ 曇り
- 🌧️ 雨
- ⛄ 雪
- 選択なし
```

**用途**:
- 天候による作業への影響を記録
- 雨天による作業遅延の記録
- 安全管理の記録

---

## 作業時間の入力

作業時間を記録します。実作業時間は自動的に計算されます。

### 開始時刻

**作業を開始した時刻を入力します。**

**デフォルト値**: 08:00

**入力方法**:
- 時刻選択（HH:MM形式）
- スマートフォンでは時刻ピッカーが表示されます

**入力例**:
```
08:00（午前8時）
09:30（午前9時30分）
```

### 終了時刻

**作業を終了した時刻を入力します。**

**デフォルト値**: 17:00

**入力方法**:
- 時刻選択（HH:MM形式）
- スマートフォンでは時刻ピッカーが表示されます

**入力例**:
```
17:00（午後5時）
18:30（午後6時30分）
```

### 休憩時間（分）

**休憩時間を分単位で入力します。**

**デフォルト値**: 60分

**入力方法**:
- 数値を入力
- 15分刻みで入力を推奨

**入力例**:
```
60（1時間）
90（1時間30分）
45（45分）
```

**注意事項**:
- ⚠️ 休憩時間は実作業時間から差し引かれます
- ⚠️ 通常は60分（1時間）を使用

### 実作業時間（自動計算）

**実作業時間は自動的に計算されます。**

**計算式**:
```
実作業時間 = 終了時刻 - 開始時刻 - 休憩時間
```

**表示例**:
```
開始時刻: 08:00
終了時刻: 17:00
休憩時間: 60分
↓
実作業時間: 8.0時間
```

**計算例**:
```
例1:
開始 08:00、終了 17:00、休憩 60分
→ 実作業時間: 8.0時間

例2:
開始 09:00、終了 18:30、休憩 90分
→ 実作業時間: 8.0時間

例3:
開始 08:00、終了 20:00、休憩 60分
→ 実作業時間: 11.0時間
```

### 時間外（残業時間）

**残業時間を時間単位で入力します。**

**入力方法**:
- 数値を入力
- 0.5時間刻みで入力可能

**入力例**:
```
2（2時間）
1.5（1時間30分）
0.5（30分）
```

**注意事項**:
- ⚠️ 実作業時間とは別に、残業時間を記録します
- ⚠️ 残業手当の計算に使用されます

---

## 作業内容の入力

作業内容と進捗を記録します。

### 作業内容（必須）

**実施した作業の詳細を記述します。**

**入力方法**:
- テキストエリアに自由に記述
- 箇条書きで記載することを推奨

**入力例**:
```
✅ 良い例:
・基礎型枠の組立（1F部分）
・コンクリート打設準備
・鉄筋の配筋確認
・安全柵の設置

❌ 悪い例:
・作業しました
・いつも通り
```

**推奨の書き方**:
- 箇条書き（・または-で始める）
- 具体的な作業内容
- 作業箇所の明記
- 完了・未完了の明記

### 作業場所（任意）

**作業を行った具体的な場所を記述します。**

**入力例**:
```
1階基礎部分
2階東側
屋上
外周フェンス付近
```

**用途**:
- 作業箇所の特定
- 複数箇所で作業した場合の記録

### 進捗率（任意）

**作業の進捗を%で入力します。**

**入力方法**:
- 数値を入力（0〜100）

**入力例**:
```
50（50%完了）
80（80%完了）
100（100%完了）
```

**注意事項**:
- ⚠️ 0〜100の範囲で入力
- ⚠️ 複数日にわたる作業の進捗管理に使用

### 使用材料（任意）

**使用した材料を記録します。**

**入力方法**:
- テキストエリアに自由に記述
- 材料名と数量を記載

**入力例**:
```
・コンクリート: 10m³
・鉄筋（SD345 φ25mm）: 500kg
・型枠パネル: 50枚
```

### 使用道具（任意）

**使用した道具を記録します。**

**入力方法1: 道具マスタから選択**
1. 「道具を追加」ボタンをクリック
2. ドロップダウンから道具を選択
3. 複数の道具を追加可能

**入力方法2: テキストで記述**
- テキストエリアに自由に記述

**道具マスタからの選択例**:
```
選択された道具:
- 電動ドリル（DRL-5000）
- エアコンプレッサー（AC-2000）
```

**テキスト記述例**:
```
・電動ドリル
・電動グラインダー
・レベル測定器
```

---

## 帯同作業員の登録

一緒に作業した社員を登録します。

### 帯同作業員の追加

**入力方法**:

1. 「作業員を追加」ボタンをクリック
2. ドロップダウンから社員を選択
3. 複数の作業員を追加可能

**検索機能**:
```
検索ボックスに社員名を入力すると、候補が絞り込まれます

入力: 「山田」
↓
候補:
- 山田太郎
- 山田花子
```

**表示例**:
```
帯同作業員:
┌────────────────────┐
│ 山田太郎            │ [削除]
│ 時間外: 2 時間      │
├────────────────────┤
│ 佐藤次郎            │ [削除]
│ 時間外: 0 時間      │
└────────────────────┘
```

### 作業員ごとの残業時間

**各作業員の残業時間を個別に入力できます。**

**入力方法**:
- 各作業員の「時間外」フィールドに数値を入力
- 0.5時間刻みで入力可能

**用途**:
- 作業員ごとの残業時間の記録
- 残業手当の正確な計算

**注意事項**:
- ⚠️ 作成者（自分）の残業時間は「作業時間」セクションで入力
- ⚠️ 帯同作業員の実作業時間は、作成者と同じ時間が自動適用されます

### 作業員の削除

**追加した作業員を削除する方法**:

1. 作業員の右にある「削除」ボタンをクリック
2. 即座に削除される

---

## 写真の添付

作業の様子を写真で記録します。

### 写真のアップロード

**アップロード方法**:

1. 「写真を追加」ボタンをクリック
2. ファイル選択ダイアログが表示される
3. 写真ファイルを選択（複数選択可能）
4. アップロード開始

**対応ファイル形式**:
```
- JPEG（.jpg, .jpeg）
- PNG（.png）
- WebP（.webp）
```

**ファイルサイズ制限**: 1枚あたり最大5MB

### 写真のプレビュー

**アップロード後、写真がプレビュー表示されます。**

**表示内容**:
```
┌────────────────┐
│                │
│   [写真画像]   │
│                │
├────────────────┤
│ キャプション:  │
│ [入力欄]       │
└────────────────┘
```

### キャプション（説明）の入力

**各写真にキャプション（説明文）を追加できます。**

**入力方法**:
- 写真の下にある「キャプション」フィールドに入力

**入力例**:
```
・基礎コンクリート打設前
・配筋検査合格
・1階柱施工完了
・安全確認の様子
```

### 写真の並び替え

**写真の表示順を変更できます。**

**並び替え方法**（PC）:
1. 写真をドラッグ
2. 希望の位置にドロップ

**並び替え方法**（スマートフォン）:
- 現在のバージョンでは、アップロード順で固定されます

### 写真の削除

**アップロードした写真を削除する方法**:

1. 写真の右上にある「×」ボタンをクリック
2. 確認ダイアログで「削除」をクリック

**注意事項**:
- ⚠️ 削除は取り消せません
- ⚠️ 慎重に実行してください

---

## カスタムフィールドの入力

組織で設定されたカスタムフィールドを入力します。

### カスタムフィールドとは

**組織ごとにカスタマイズ可能な入力項目です。**

**設定例**:
```
・施工温度（数値）
・立会者名（テキスト）
・検査結果（選択肢）
・資材搬入日（日付）
```

### カスタムフィールドの種類

**テキスト**:
- 自由にテキストを入力

**数値**:
- 数値を入力
- 単位が表示される場合もあり

**選択肢**:
- プルダウンから選択

**日付**:
- カレンダーから日付を選択

**チェックボックス**:
- チェックのON/OFF

### 必須フィールド

**必須マーク（*）がついているフィールドは入力必須です。**

**表示例**:
```
施工温度 *
┌────────────────┐
│ 25             │ ℃
└────────────────┘
```

**注意事項**:
- ⚠️ 必須フィールドを入力しないと保存できません

---

## 保存と提出

作業報告書を保存または提出します。

### 下書き保存

**作業報告書を下書きとして保存します。**

**操作方法**:
1. 画面下部の**「下書き保存」**ボタン（灰色）をクリック
2. 作業報告書が保存される
3. 作業報告書一覧画面に戻る

**下書き保存後の状態**:
- ステータス: 「下書き」（灰色）
- 後から編集可能
- 提出前に何度でも修正可能

**用途**:
- 作業中に一時保存
- 後で写真を追加する予定
- 上司に確認してもらう前に保存

### 提出

**作業報告書を上司に提出して承認を依頼します。**

**操作方法**:
1. 画面下部の**「提出する」**ボタン（青色）をクリック
2. 作業報告書が提出される
3. 作業報告書一覧画面に戻る

**提出後の状態**:
- ステータス: 「提出済み」（オレンジ色）
- **編集不可**
- 上司が承認または差し戻しを行う

**注意事項**:
- ⚠️ 提出後は編集できません
- ⚠️ 差し戻された場合のみ、再度編集可能になります
- ⚠️ 提出前に内容を十分に確認してください

### 承認設定について

**組織の設定により、承認が必要かどうかが決まります。**

**承認が不要な場合**:
- 「提出する」ボタンで提出すると、即座に「承認済み」になります
- 上司の承認は不要です

**承認が必要な場合**:
- 「提出する」ボタンで提出すると、「提出済み」になります
- 上司の承認が必要です

組織の設定は、Admin権限のユーザーが「作業報告設定」で変更できます。

---

## 承認フロー

承認が必要な組織での作業報告書の流れです。

### 承認フローの概要

```
1. 作成者が作業報告書を作成
   ↓
2. 「提出する」をクリック
   ↓
3. ステータス: 「提出済み」
   ↓
4. 上司（Manager/Admin）が承認
   ↓
5. ステータス: 「承認済み」
```

### 承認待ちの状態

**提出後、承認待ちの状態です。**

**表示内容**:
```
作業報告書詳細
[提出済み] ← オレンジ色のバッジ

※この報告書は承認待ちです。
```

**できること**:
- ✅ 閲覧
- ❌ 編集（上司が差し戻すまで不可）

### 承認済みの状態

**上司が承認した状態です。**

**表示内容**:
```
作業報告書詳細
[承認済み] ← 緑色のバッジ

✓ 承認済み
承認者: 山田太郎（Manager）
承認日時: 2026-01-21 15:30:00
```

**できること**:
- ✅ 閲覧
- ✅ PDF出力
- ❌ 編集不可

### 差し戻しの場合

**上司が修正を依頼した場合です。**

**表示内容**:
```
作業報告書詳細
[下書き] ← 灰色のバッジ

⚠ 差し戻されました
差し戻し理由:
作業内容が不明確です。詳細を追記してください。

差し戻し日時: 2026-01-21 15:30:00
差し戻し者: 山田太郎（Manager）
```

**対応方法**:
1. 差し戻し理由を確認
2. 「編集」ボタンで報告書を修正
3. 修正後、再度「提出する」をクリック

---

## 関連マニュアル

- [作業報告書承認マニュアル](./work_reports_approval.md)（将来追加予定） - 上司向け承認手順
- [作業報告書設定マニュアル](./work_reports_settings.md)（将来追加予定） - カスタムフィールドの設定
- [現場管理マニュアル](./sites.md) - 現場の登録と管理
- [道具管理マニュアル](./tool_management.md) - 道具マスタの登録

---

**作業報告書を正確に記録して、スムーズな現場管理を実現しましょう！**
